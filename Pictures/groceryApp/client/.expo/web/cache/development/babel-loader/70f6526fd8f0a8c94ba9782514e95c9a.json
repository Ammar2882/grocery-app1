{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\ammar\\\\Pictures\\\\groceryApp\\\\client\\\\screens\\\\user\\\\Home.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport \"../../global\";\n\nvar Home = function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      _this.getAdminId();\n\n      _this.setState({\n        loading: false\n      });\n    };\n\n    _this.getAdminId = function _callee() {\n      var afterParse, adminId;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.t0 = JSON;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"uitem\"));\n\n            case 3:\n              _context.t1 = _context.sent;\n              afterParse = _context.t0.parse.call(_context.t0, _context.t1);\n              adminId = afterParse.adminId;\n\n              _this.setState({\n                adminID: adminId\n              });\n\n              _this.fetchData();\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.fetchData = function () {\n      _this.setState({\n        loading: true\n      });\n\n      fetch(global.ipAddress + \":3001/getHomeData/\" + _this.state.adminID).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        console.log(resJson);\n\n        _this.setState({\n          arrayData: resJson\n        });\n\n        _this.setState({\n          loading: false\n        });\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    };\n\n    _this.handleRefresh = function () {\n      _this.setState({\n        loading: false\n      }, function () {\n        _this.fetchData();\n\n        console.log(_this.state.arrayData);\n      });\n    };\n\n    _this.renderSeparator = function () {\n      return React.createElement(View, {\n        style: {\n          marginBottom: -10\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 5\n        }\n      });\n    };\n\n    _this.state = {\n      loading: true,\n      arrayData: \"\",\n      currlevel: \"\",\n      adminID: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(FlatList, {\n        data: this.state.arrayData,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(TouchableOpacity, {\n            key: index + 1,\n            style: styles.card,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 11\n            }\n          }, React.createElement(View, {\n            style: styles.jarTextContainer,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 13\n            }\n          }, React.createElement(Text, {\n            style: styles.jarText,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }\n          }, item.key), React.createElement(View, {\n            style: styles.pill,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }\n          }, React.createElement(Text, {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }\n          }, item.value))));\n        },\n        ItemSeparatorComponent: this.renderSeparator,\n        refreshing: this.state.loading,\n        onRefresh: this.handleRefresh,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport { Home as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"#f2f2f2\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  card: {\n    width: \"95%\",\n    height: 80,\n    backgroundColor: \"#fff\",\n    borderRadius: 5,\n    elevation: 5,\n    margin: 10\n  },\n  pill: {\n    flex: 2,\n    backgroundColor: \"lightgreen\",\n    padding: 5,\n    borderRadius: 5,\n    maxWidth: 60,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginRight: 20\n  },\n  addBtn: {\n    backgroundColor: \"#fb5b5a\",\n    width: \"90%\",\n    margin: 15,\n    padding: 15,\n    borderRadius: 5,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  addBtnShr: {\n    backgroundColor: \"#fb5b5a\",\n    height: 50,\n    width: \"20%\",\n    padding: 1,\n    borderRadius: 5,\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: 20,\n    justifyContent: \"center\"\n  },\n  addWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  inputView: {\n    width: \"65%\",\n    backgroundColor: \"#fff\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"#fb5b5a\",\n    height: 50,\n    marginVertical: 20,\n    marginLeft: 20,\n    justifyContent: \"center\",\n    padding: 20\n  },\n  inputText: {\n    height: 45,\n    color: \"#000\"\n  },\n  jarTextContainer: {\n    flexDirection: \"row\",\n    marginVertical: 30\n  },\n  jarText: {\n    flex: 1,\n    fontSize: 16,\n    marginLeft: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/ammar/Pictures/groceryApp/client/screens/user/Home.js"],"names":["React","AsyncStorage","Home","props","componentDidMount","getAdminId","setState","loading","JSON","getItem","afterParse","parse","adminId","adminID","fetchData","fetch","global","ipAddress","state","then","res","json","resJson","console","log","arrayData","catch","e","handleRefresh","renderSeparator","marginBottom","currlevel","item","index","styles","card","jarTextContainer","jarText","key","pill","value","Component","StyleSheet","create","container","flex","alignItems","backgroundColor","width","height","borderRadius","elevation","margin","padding","maxWidth","display","justifyContent","marginRight","addBtn","flexDirection","addBtnShr","addWrapper","inputView","borderWidth","borderColor","marginVertical","marginLeft","inputText","color","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  FlatList,\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nimport \"../../global\";\r\n\r\nexport default class Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      arrayData: \"\",\r\n      currlevel: \"\",\r\n      adminID: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.getAdminId();\r\n    // this.getDataUsingGet();\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  getAdminId = async () => {\r\n    const afterParse = JSON.parse(await AsyncStorage.getItem(\"uitem\"));\r\n    const adminId = afterParse.adminId;\r\n    this.setState({ adminID: adminId });\r\n    this.fetchData();\r\n  };\r\n\r\n  fetchData = () => {\r\n    this.setState({ loading: true });\r\n    fetch(`${global.ipAddress}:3001/getHomeData/` + this.state.adminID)\r\n      .then((res) => res.json())\r\n      .then((resJson) => {\r\n        console.log(resJson);\r\n        this.setState({ arrayData: resJson });\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n\r\n  handleRefresh = () => {\r\n    this.setState({ loading: false }, () => {\r\n      this.fetchData();\r\n      console.log(this.state.arrayData);\r\n    });\r\n  };\r\n\r\n  renderSeparator = () => (\r\n    <View\r\n      style={{\r\n        marginBottom: -10,\r\n      }}\r\n    />\r\n  );\r\n\r\n  render() {\r\n    return (\r\n      <FlatList\r\n        data={this.state.arrayData}\r\n        renderItem={({ item,index }) => (\r\n          <TouchableOpacity key={index+1} style={styles.card}>\r\n            <View style={styles.jarTextContainer}>\r\n              <Text style={styles.jarText}>{item.key}</Text>\r\n              <View style={styles.pill}>\r\n                <Text>{item.value}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n        )}\r\n        ItemSeparatorComponent={this.renderSeparator}\r\n       // keyExtractor={(item) => item.jars}\r\n        refreshing={this.state.loading}\r\n        onRefresh={this.handleRefresh}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#f2f2f2\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  card: {\r\n    width: \"95%\",\r\n    height: 80,\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 5,\r\n    elevation: 5,\r\n    margin: 10,\r\n  },\r\n  pill: {\r\n    flex: 2,\r\n    backgroundColor: \"lightgreen\",\r\n    padding: 5,\r\n    borderRadius: 5,\r\n    maxWidth: 60,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginRight: 20,\r\n  },\r\n  addBtn: {\r\n    backgroundColor: \"#fb5b5a\",\r\n    width: \"90%\",\r\n    margin: 15,\r\n    padding: 15,\r\n    borderRadius: 5,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  addBtnShr: {\r\n    backgroundColor: \"#fb5b5a\",\r\n    height: 50,\r\n    width: \"20%\",\r\n    padding: 1,\r\n    borderRadius: 5,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    margin: 20,\r\n    justifyContent: \"center\",\r\n  },\r\n  addWrapper: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  inputView: {\r\n    width: \"65%\",\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 5,\r\n    borderWidth: 1,\r\n    borderColor: \"#fb5b5a\",\r\n    height: 50,\r\n    marginVertical: 20,\r\n    marginLeft: 20,\r\n    justifyContent: \"center\",\r\n    padding: 20,\r\n  },\r\n  inputText: {\r\n    height: 45,\r\n    color: \"#000\",\r\n  },\r\n  jarTextContainer: { flexDirection: \"row\", marginVertical: 30 },\r\n  jarText: { flex: 1, fontSize: 16, marginLeft: 20 },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}